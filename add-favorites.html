<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–î–æ–±–∞–≤–∏—Ç—å –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã</title>
    <style>
      body {
        font-family:
          'Inter',
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f8f9fa;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #20c997;
        margin-bottom: 20px;
      }
      .recipe-item {
        display: flex;
        align-items: center;
        padding: 15px;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        margin-bottom: 10px;
        background: #f8f9fa;
      }
      .recipe-info {
        flex: 1;
      }
      .recipe-name {
        font-weight: 600;
        color: #495057;
        margin-bottom: 5px;
      }
      .recipe-details {
        font-size: 14px;
        color: #6c757d;
      }
      .add-btn {
        background: #20c997;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
      }
      .add-btn:hover {
        background: #1ba37e;
      }
      .status {
        margin-top: 20px;
        padding: 15px;
        border-radius: 8px;
        font-weight: 500;
      }
      .success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .info {
        background: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
      }
      .clear-btn {
        background: #dc3545;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 20px;
      }
      .clear-btn:hover {
        background: #c82333;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üçΩÔ∏è –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã</h1>

      <div id="recipes-container">
        <!-- –†–µ—Ü–µ–ø—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
      </div>

      <button class="clear-btn" onclick="clearFavorites()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã</button>

      <div id="status"></div>
    </div>

    <script>
      // –¢–µ—Å—Ç–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
      const testRecipes = [
        {
          id: 1,
          name: '–°—ã—Ä–Ω–∏–∫–∏',
          calories: 164,
          proteins: 14,
          fats: 4.6,
          carbohydrates: 16.9,
          ingredients: [
            { name: '–¢–≤–æ—Ä–æ–≥ 5%', amount: 720, amountType: '–≥—Ä' },
            { name: '–Ø–π—Ü–æ', amount: 120, amountType: '–≥—Ä' },
            { name: '–°–∞—Ö–∞—Ä', amount: 80, amountType: '–≥—Ä' },
            { name: '–í–∞–Ω–∏–ª–∏–Ω', amount: 1, amountType: '–≥—Ä' },
            { name: '–ú–∞–Ω–Ω–∞—è –∫—Ä—É–ø–∞', amount: 65, amountType: '–≥—Ä' },
          ],
        },
        {
          id: 2,
          name: '–ë–ª–∏–Ω—ã',
          calories: 147,
          proteins: 5.5,
          fats: 3.8,
          carbohydrates: 22,
          ingredients: [
            { name: '–ú–æ–ª–æ–∫–æ 3,2%', amount: 1000, amountType: '–º–ª' },
            { name: '–Ø–π—Ü–æ', amount: 120, amountType: '–≥—Ä' },
            { name: '–ú—É–∫–∞', amount: 380, amountType: '–≥—Ä' },
            { name: '–°–æ–ª—å', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ', amount: 10, amountType: '–≥—Ä' },
          ],
        },
        {
          id: 3,
          name: '–û–º–ª–µ—Ç',
          calories: 180,
          proteins: 12,
          fats: 15,
          carbohydrates: 2,
          ingredients: [
            { name: '–Ø–π—Ü–æ', amount: 120, amountType: '–≥—Ä' },
            { name: '–°–ª–∏–≤–∫–∏ 18%', amount: 150, amountType: '–º–ª' },
            { name: '–°–æ–ª—å', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
          ],
        },
        {
          id: 6,
          name: '–ë–æ—Ä—â',
          calories: 85,
          proteins: 4,
          fats: 3,
          carbohydrates: 12,
          ingredients: [
            { name: '–°–≤—ë–∫–ª–∞', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–õ—É–∫', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ß–µ—Å–Ω–æ–∫', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ë–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ú–æ—Ä–∫–æ–≤—å', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ö–∞–ø—É—Å—Ç–∞', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
          ],
        },
        {
          id: 9,
          name: '–£–¥–æ–Ω',
          calories: 320,
          proteins: 25,
          fats: 8,
          carbohydrates: 45,
          ingredients: [
            { name: '–£–¥–æ–Ω –ª–∞–ø—à–∞', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ú–æ—Ä–∫–æ–≤—å', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ë–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ü–µ–∫–∏–Ω—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–°–æ–µ–≤—ã–π —Å–æ—É—Å', amount: 0, amountType: '–ø–æ –≤–∫—É—Å—É' },
            { name: '–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞', amount: 500, amountType: '–≥—Ä' },
          ],
        },
        {
          id: 11,
          name: '–¢–µ—Ñ—Ç–µ–ª–∏ –≤ —Å–º–µ—Ç–∞–Ω–Ω–æ–º —Å–æ—É—Å–µ',
          calories: 320,
          proteins: 22,
          fats: 18,
          carbohydrates: 15,
          ingredients: [
            { name: '–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞', amount: 500, amountType: '–≥—Ä' },
            { name: '–Ø–π—Ü–æ', amount: 60, amountType: '–≥—Ä' },
            { name: '–ß–µ—Å–Ω–æ–∫', amount: 10, amountType: '–≥—Ä' },
            { name: '–ü–∞–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Å—É—Ö–∞—Ä–∏', amount: 13, amountType: '–≥—Ä' },
            { name: '–†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ', amount: 20, amountType: '–≥—Ä' },
            { name: '–ú–æ—Ä–∫–æ–≤—å', amount: 150, amountType: '–≥—Ä' },
            { name: '–ë–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü', amount: 90, amountType: '–≥—Ä' },
            { name: '–õ—É–∫', amount: 85, amountType: '–≥—Ä' },
          ],
        },
      ]

      // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ—Ü–µ–ø—Ç—ã
      function displayRecipes() {
        const container = document.getElementById('recipes-container')
        container.innerHTML = ''

        testRecipes.forEach((recipe) => {
          const recipeDiv = document.createElement('div')
          recipeDiv.className = 'recipe-item'

          recipeDiv.innerHTML = `
                    <div class="recipe-info">
                        <div class="recipe-name">${recipe.name}</div>
                        <div class="recipe-details">
                            ${recipe.calories} –∫–∫–∞–ª | –ë: ${recipe.proteins}–≥ | –ñ: ${recipe.fats}–≥ | –£: ${recipe.carbohydrates}–≥
                        </div>
                    </div>
                    <button class="add-btn" onclick="addToFavorites(${recipe.id})">
                        ‚ù§Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤ –ª—é–±–∏–º—ã–µ
                    </button>
                `

          container.appendChild(recipeDiv)
        })
      }

      // –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç –≤ –ª—é–±–∏–º—ã–µ
      function addToFavorites(recipeId) {
        const recipe = testRecipes.find((r) => r.id === recipeId)
        if (!recipe) {
          showStatus('–†–µ—Ü–µ–ø—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error')
          return
        }

        // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
        let favorites = []
        try {
          const saved = localStorage.getItem('favoriteRecipes')
          if (saved) {
            favorites = JSON.parse(saved)
          }
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª—é–±–∏–º—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤:', error)
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –ª–∏ —É–∂–µ
        if (favorites.some((fav) => fav.id === recipeId)) {
          showStatus(`–†–µ—Ü–µ–ø—Ç "${recipe.name}" —É–∂–µ –≤ –ª—é–±–∏–º—ã—Ö!`, 'info')
          return
        }

        // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ—Ü–µ–ø—Ç
        favorites.push(recipe)
        localStorage.setItem('favoriteRecipes', JSON.stringify(favorites))

        showStatus(`‚úÖ –†–µ—Ü–µ–ø—Ç "${recipe.name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ª—é–±–∏–º—ã–µ!`, 'success')

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É
        updateButton(recipeId)
      }

      // –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
      function updateButton(recipeId) {
        const buttons = document.querySelectorAll('.add-btn')
        buttons.forEach((button) => {
          if (button.onclick.toString().includes(recipeId)) {
            button.textContent = '‚ù§Ô∏è –í –ª—é–±–∏–º—ã—Ö'
            button.style.background = '#e83e8c'
            button.disabled = true
          }
        })
      }

      // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
      function clearFavorites() {
        if (window.confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã?')) {
          localStorage.removeItem('favoriteRecipes')
          showStatus('üóëÔ∏è –í—Å–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –æ—á–∏—â–µ–Ω—ã!', 'success')

          // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
          const buttons = document.querySelectorAll('.add-btn')
          buttons.forEach((button) => {
            button.textContent = '‚ù§Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤ –ª—é–±–∏–º—ã–µ'
            button.style.background = '#20c997'
            button.disabled = false
          })
        }
      }

      // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å
      function showStatus(message, type) {
        const statusDiv = document.getElementById('status')
        statusDiv.textContent = message
        statusDiv.className = `status ${type}`

        setTimeout(() => {
          statusDiv.textContent = ''
          statusDiv.className = 'status'
        }, 3000)
      }

      // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
      function checkExistingFavorites() {
        try {
          const saved = localStorage.getItem('favoriteRecipes')
          if (saved) {
            const favorites = JSON.parse(saved)
            favorites.forEach((fav) => {
              updateButton(fav.id)
            })
            showStatus(`üìã –ù–∞–π–¥–µ–Ω–æ ${favorites.length} –ª—é–±–∏–º—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤`, 'info')
          }
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª—é–±–∏–º—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤:', error)
        }
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      document.addEventListener('DOMContentLoaded', function () {
        displayRecipes()
        checkExistingFavorites()
      })
    </script>
  </body>
</html>
